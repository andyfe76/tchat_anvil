allow_embedding: true
package_name: Tchat
name: Tchat
startup_form: null
renamed: true
runtime_options:
  version: 2
  client_version: '3'
  server_version: python3-sandbox
  server_spec: {base: python310-standard}
dependencies:
- dep_id: dep_gpwptqlvz6aj3a
  version: {dev: false}
  resolution_hints: {app_id: C6ZZPAPN4YYF5NVJ, name: Anvil Extras, package_name: anvil_extras}
services:
- source: /runtime/services/tables.yml
  client_config: {}
  server_config: {}
- source: /runtime/services/anvil/secrets.yml
  client_config: {}
  server_config: {}
metadata: {title: Tchat, description: Tchat, logo_img: 'asset:dl-telekom-logo-01.jpg'}
startup: {type: form, module: main}
secrets:
  api_url:
    value: {G4DFCC3BKZOCYBZF: 4rQ50XYdjlhCi5L4hWoFuB+S1sFQ+iCacUrmKrmvwv4hzCEz81ZgxNZ1V/aPSS6+iQivk+W6+w6jiqmtn4xvR5MSpFkSQWAaRxVKOycgTOVhW5ynOJsaWAo33qAALNv5VEEoh2XZXNT3xV8O7wnWgUYIbnqZzbb+QQ==}
    type: secret
native_deps:
  head_html: "<script>  \n  function get_url() {\n    const searchParams = new URLSearchParams(window.location.search);\n    console.log(searchParams);\n    return searchParams;\n  }\n  \n  function request(method, url, headers, data) {\n    if (data) {\n      const response = fetch(url, {\n          method: method,\n          body: JSON.stringify(data),\n          headers: headers,\n          // mode: 'no-cors'\n        });\n      return response\n    } else {\n      const response = fetch(url, {\n          method: method,\n          headers: headers,\n          // mode: 'no-cors'\n        });\n      return response\n    }\n  }\n  \n  function upload(url, headers, file, file_name, file_content_type) {\n    const blob = new Blob([file], {\n      type: file_content_type,\n    });\n    \n    const formData = new FormData();\n    formData.append(\"file\", blob, file_name);\n    console.log(formData)\n    \n    const response =  fetch(url, {\n      method: \"POST\",\n      headers: headers,\n      body: formData,\n    })\n    return response\n  }\n</script>"
